# Plan & Chill

Планувальник дня з алгоритмом розстановки задач по помодоро та SQLite базою даних.

## Структура проекту

```
Plan_and_chill/
├── frontend/
│   ├── index.html          ← Сторінка входу / реєстрації
│   ├── planner.html        ← Головна сторінка планувальника
│   ├── settings.html       ← Налаштування акаунту
│   ├── css/
│   │   └── global.css      ← Усі стилі проекту
│   └── js/
│       ├── utils.js        ← Спільні утиліти: API, sidebar, хелпери
│       ├── index.js        ← Логіка входу та реєстрації
│       ├── planner.js      ← Логіка планувальника (день/місяць, таймлайн, форма)
│       └── settings.js     ← Налаштування акаунту і Помодоро
│
├── backend/
│   ├── main.py             ← Точка входу FastAPI
│   ├── database.py         ← SQLite: підключення та ініціалізація таблиць
│   ├── schemas.py          ← Pydantic моделі
│   ├── utils.py            ← Алгоритм Помодоро та класи Event / Routine / Day
│   └── routers/
│       ├── auth.py         ← Реєстрація, вхід, перевірка пошти, user-info
│       ├── tasks.py        ← Збереження / завантаження задач
│       └── plan.py         ← Генерація розкладу
│
├── requirements.txt
└── README.md
```

## Встановлення

1. Клонуйте репозиторій:

```bash
   git clone https://github.com/zalishchukpn-pixel/Plan_and_chill.git
```
```bash
   cd Plan_and_chill
```

(Рекомендовано) Створіть та активуйте віртуальне середовище:
 ```bash
   python -m venv .venv
```

2.Активуйте його:
```bash
   # Windows
   .venv\Scripts\activate
   
   # macOS / Linux
   source .venv/bin/activate
```

3.Встановіть залежності:
```bash
   pip install -r requirements.txt
```

## Запуск

Відкрий два термінали у папці проекту:

**Термінал 1 — бекенд:**
```bash
   cd Plan_and_chill/backend
```

```bash
uvicorn main:app --reload
```

**Термінал 2 — фронтенд:**
```bash
python -m http.server 5173
```

5.Відкрийте в браузері:
```bash
http://localhost:5173
```


Відкрий браузер: **http://localhost:5173**


## База даних

Файл `planner.db` створюється автоматично при першому запуску бекенду.


## Як переглянути базу даних

**Графічно** — [DB Browser for SQLite](https://sqlitebrowser.org) → відкрий `planner.db`

**У терміналі:**
```bash
sqlite3 planner.db
SELECT * FROM users;
SELECT * FROM tasks;
.quit
```

**У VS Code** доступне розширення **SQLite Viewer** для перегляду файлу бази даних.

### Таблиці

**`users`** — акаунти користувачів
| Поле     | Тип  | Опис                        |
|----------|------|-----------------------------|
| name     | TEXT | Ім'я (PRIMARY KEY)          |
| email    | TEXT | Email (унікальний)          |
| password | TEXT | Пароль                      |

**`tasks`** — задачі
| Поле      | Тип     | Опис                              |
|-----------|---------|-----------------------------------|
| id        | TEXT    | ID задачі (PRIMARY KEY)           |
| user_name | TEXT    | Ім'я користувача (зв'язок з users)|
| day       | INTEGER | День місяця (1–31)                |
| data      | TEXT    | JSON з усіма полями задачі        |

### API ендпоінти

| Метод  | URL                          | Що робить                        |
|--------|------------------------------|----------------------------------|
| POST   | `/register`                  | Реєстрація нового користувача    |
| POST   | `/login`                     | Перевірка email + пароль         |
| GET    | `/tasks/{user_name}`         | Завантажити всі задачі           |
| POST   | `/tasks/save`                | Зберегти задачі одного дня       |
| POST   | `/plan`                      | Згенерувати розклад (алгоритм)   |



## Використання

1. **Вхід** — введи ім'я, email та пароль. Перший вхід = автоматична реєстрація. Наступні входи — авторизація по email + пароль.
2. **Планер** — обери день стрілочками або перейди у вигляд місяця.
3. **Додати задачу** — натисни «+ Додати подію або рутину»:
   - **Рутина** — фіксований час (заняття, сон тощо). Можна поставити повторення: щодня або щотижня.
   - **Подія** — можна задати час вручну або обрати **Автопідбір** (алгоритм сам знайде вільний слот між рутинами).
4. **Генерація розкладу** — після додавання задач натисни «Згенерувати розклад» — відобразиться таймлайн з блоками на весь день.
5. **Редагування** — щоб змінити список, натисни «Змінити список завдань».
6. **Налаштування** — через ліву панель: зміна імені, перегляд особистих даних, налаштування часу помодоро.
