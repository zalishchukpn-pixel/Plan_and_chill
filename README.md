# Plan & Chill

Планувальник дня з алгоритмом розстановки задач по помодоро та SQLite базою даних.

---

## Структура проекту

```
plan-chill/
│
├── index.html              Сторінка входу / реєстрації
├── planner.html            Головна сторінка планувальника
├── settings.html           Налаштування акаунту
│
├── css/
│   └── global.css          Усі стилі проекту
│
├── js/
│   ├── utils.js            Спільні утиліти: API-функції, іконки,
│   │                       sidebar, хелпери часу, палітра кольорів
│   ├── index.js            Логіка входу та реєстрації
│   ├── planner.js          Логіка планувальника (день / місяць,
│   │                       форма задач, таймлайн, черга)
│   └── settings.js         Логіка налаштувань акаунту і помодоро
│
├── Backend.py              Python FastAPI сервер + SQLite
├── planner.db              База даних (створюється автоматично)
└── README.md
```

---

## База даних

Файл `planner.db` створюється автоматично при першому запуску бекенду.

### Таблиці

**`users`** — акаунти користувачів
| Поле     | Тип  | Опис                        |
|----------|------|-----------------------------|
| name     | TEXT | Ім'я (PRIMARY KEY)          |
| email    | TEXT | Email (унікальний)          |
| password | TEXT | Пароль                      |

**`tasks`** — задачі
| Поле      | Тип     | Опис                              |
|-----------|---------|-----------------------------------|
| id        | TEXT    | ID задачі (PRIMARY KEY)           |
| user_name | TEXT    | Ім'я користувача (зв'язок з users)|
| day       | INTEGER | День місяця (1–31)                |
| data      | TEXT    | JSON з усіма полями задачі        |

### API ендпоінти

| Метод  | URL                          | Що робить                        |
|--------|------------------------------|----------------------------------|
| POST   | `/register`                  | Реєстрація нового користувача    |
| POST   | `/login`                     | Перевірка email + пароль         |
| GET    | `/tasks/{user_name}`         | Завантажити всі задачі           |
| POST   | `/tasks/save`                | Зберегти задачі одного дня       |
| POST   | `/plan`                      | Згенерувати розклад (алгоритм)   |

---

## Як переглянути базу даних

**Графічно** — [DB Browser for SQLite](https://sqlitebrowser.org) → відкрий `planner.db`

**У терміналі:**
```bash
sqlite3 planner.db
SELECT * FROM users;
SELECT * FROM tasks;
.quit
```

**У VS Code** — розширення **SQLite Viewer**, просто відкрий `planner.db`

---

## Запуск

Відкрий **два** термінали у папці проекту:

**Термінал 1 — бекенд:**
```bash
pip install fastapi uvicorn
python Backend.py
```

**Термінал 2 — фронтенд:**
```bash
python -m http.server 5173
```

Відкрий браузер: **http://localhost:5173**

> `planner.db` створюється автоматично в папці проекту при першому запуску бекенду.

---

## Використання

1. **Вхід** — введи ім'я, email та пароль. Перший вхід = автоматична реєстрація. Наступні входи — авторизація по email + пароль.
2. **Планер** — обери день стрілочками або перейди у вигляд місяця.
3. **Додати задачу** — натисни «+ Додати подію або рутину»:
   - **Рутина** — фіксований час (заняття, сон тощо). Можна поставити повторення: щодня або щотижня.
   - **Подія** — можна задати час вручну або обрати **Автопідбір** (алгоритм сам знайде вільний слот між рутинами).
4. **Генерація розкладу** — після додавання задач натисни «Згенерувати розклад» — відобразиться таймлайн з блоками на весь день.
5. **Редагування** — щоб змінити список, натисни «Змінити список завдань».
6. **Налаштування** — через ліву панель: зміна імені, перегляд особистих даних, налаштування часу помодоро.
